{"version":3,"sources":["components/Quote.js","components/Mine.js","components/Public.js","components/Login.js","components/SignUp.js","components/AddQuote.js","initialState.js","reducer.js","App.js","reportWebVitals.js","index.js"],"names":["Quote","quote","className","text","by","Mine","quotes","dispatch","config","useEffect","length","console","log","type","axios","get","then","res","data","catch","e","map","_id","Public","Login","history","useHistory","useState","email","setEmail","password","setPassword","onSubmit","event","preventDefault","post","push","message","htmlFor","value","id","onChange","target","SignUp","username","setUsername","AddQuote","setQuote","setBy","saved","setSaved","obj","isPublic","checked","private","Alert","variant","initialState","all","mine","token","error","loading","user","reducer","state","action","App","useReducer","setConfig","logout","url","headers","to","activeClassName","Dropdown","Toggle","Menu","Item","onClick","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.400563b8.chunk.js","sourcesContent":["function Quote({ quote }) {\n    return (\n        <div className=\"card quote text-center\">\n            <div className=\"card-body\">\n                <blockquote className=\"blockquote mb-0\">\n                    <p><q>{quote.text}</q></p>\n                    <footer className=\"blockquote-footer\">\n                        {\n                            quote.by &&\n                            <p>{quote.by}</p>\n                        }\n                    </footer>\n                </blockquote>\n            </div>\n        </div>\n    );\n}\n\nexport default Quote;","import { useEffect } from 'react';\nimport axios from 'axios';\nimport Quote from './Quote';\n\nfunction Mine({ quotes, dispatch, config }) {\n\n    useEffect(() => {\n        if (quotes.length === 0) {\n            console.log('getting my quotes: init');\n\n            dispatch({ type: 'FETCH_INIT' });\n\n            axios.get('/quotes/me', config)\n                .then(res => {\n                    console.log('success');\n                    dispatch({\n                        type: 'SET_MINE',\n                        data: res.data\n                    })\n\n                }).catch(e => dispatch({\n                    type: 'FETCH_ERROR'\n                }));\n        }\n    }, [quotes]);\n\n    return (\n        <div className=\"center\">\n            {\n                quotes.length !== 0 &&\n                quotes.map(quote => <Quote quote={quote} key={quote._id}/>)\n            }\n        </div>\n    )\n}\n\nexport default Mine;","import { useEffect } from 'react';\nimport axios from 'axios';\nimport Quote from './Quote';\n\nfunction Public({ quotes, dispatch, config }) {\n    useEffect(() => {\n        console.log('getting Public quotes: init');\n\n        dispatch({ type: 'FETCH_INIT' });\n\n        axios.get('/quotes', config)\n            .then(res => {\n                console.log('success');\n\n                dispatch({\n                    type: 'SET_ALL',\n                    data: res.data\n                })\n            }).catch(e => dispatch({\n                type: 'FETCH_ERROR'\n            }));\n    }, []);\n\n    return (\n        <div>\n            {\n                quotes.length !== 0 &&\n                quotes.map(quote => <Quote quote={quote} key={quote._id}/>)\n            }\n        </div>\n    );\n}\n\nexport default Public;","import { useState } from 'react';\nimport {useHistory} from 'react-router-dom';\nimport axios from 'axios';\n\nfunction Login({ dispatch }) {\n    let history = useHistory();\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n    function submit(event) {\n        event.preventDefault();\n        console.log('login init')\n\n        axios.post('/users/login', { email, password })\n            .then((res) => {\n                console.log('login success', res);\n                dispatch({ type: 'SET_USER', data: res.data });\n                history.push('/me');\n            })\n            .catch(e => {\n                console.log('login fail', e);\n                dispatch({ type: 'FETCH_ERROR', data: e.message })\n            });\n    }\n\n    return (\n    <div className='login'>\n        <h2>Login</h2>\n        <form onSubmit={submit}>\n            <div className='form-group mb-3'>\n                <label htmlFor='email' className='form-label'>\n                    Email\n                </label>\n\n                <input\n                    value={email}\n                    id='email'\n                    type='email'\n                    onChange={(e) => setEmail(e.target.value)}\n                    className=\"form-control\"\n                />\n            </div>\n\n            <div className='form-group  mb-3'>\n                <label htmlFor='pw' className='form-label'>\n                    Password\n                </label>\n\n                <input\n                    value={password}\n                    id='pw'\n                    type='password'\n                    onChange={(e) => setPassword(e.target.value)}\n                    className=\"form-control\"\n                />\n            </div>\n            <button type='submit'>Go</button>\n        </form>\n    </div>\n    );\n}\n\nexport default Login;","import { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\n\nfunction SignUp({ dispatch }) {\n    let history = useHistory();\n\n    const [email, setEmail] = useState('');\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n\n    function submit(event) {\n        event.preventDefault();\n\n        axios.post('/users', {\n            email,\n            username,\n            password\n        }).then((res) => {\n            console.log('signup success', res);\n            dispatch({ type: 'SET_USER', data: res.data });\n            history.push('/public');\n        }).catch(e => {\n            console.log(e);\n            dispatch({ type: 'FETCH_ERROR', data: e.message })\n        });\n    }\n\n    return (\n        <div className='login'>\n            <h3>Sign up</h3>\n            <form onSubmit={submit}>\n                <div className='form-group mb-3'>\n                    <label htmlFor='email' className='form-label'>Email</label>\n\n                    <input\n                        value={email}\n                        id='email'\n                        type='email'\n                        onChange={(e) => setEmail(e.target.value)}\n                        className=\"form-control\"\n                    ></input>\n                </div>\n                <div className='form-group mb-3'>\n                    <label htmlFor='username' className='form-label'>Username</label>\n\n                    <input\n                        value={username}\n                        id='username'\n                        type='text'\n                        onChange={(e) => setUsername(e.target.value)}\n                        className=\"form-control\"\n                    ></input>\n                </div>\n                <div className='form-group mb-3'>\n                    <label htmlFor='pw' className='form-label'>Password</label>\n\n                    <input\n                        value={password}\n                        id='pw'\n                        type='password'\n                        onChange={(e) => setPassword(e.target.value)}\n                        className=\"form-control\"\n                    ></input>\n                </div>\n                <button type='submit'>Go</button>\n            </form>\n        </div>\n    )\n}\n\nexport default SignUp;","import { useState } from 'react';\nimport axios from 'axios';\nimport Alert from 'react-bootstrap/Alert'\n\nfunction AddQuote({ config, dispatch }) {\n    const [quote, setQuote] = useState('');\n    const [by, setBy] = useState('');\n    const [saved, setSaved] = useState(false);\n\n    function submit(event) {\n        event.preventDefault();\n        setSaved(false);\n\n        let obj = { text: quote };\n\n        if (by.length !== 0) {\n            obj.by = by;\n        }\n\n        if (event.target.isPublic.checked === true) {\n            obj.private = false;\n        }\n\n        console.log('posting this quote', obj);\n\n        axios.post('/quotes', obj, config)\n            .then(res => {\n                console.log(res);\n                dispatch({\n                    type: 'ADD_QUOTE',\n                    data: obj\n                });\n                setSaved(true);\n                setQuote('');\n                setBy('');\n            }).catch(e => dispatch({\n                type: 'ERROR',\n                data: e.message\n            }));\n\n    }\n\n    return (\n        <div className='add'>\n            <h2 >Add Quote</h2>\n            <form onSubmit={submit}>\n                <div className='mb-1'>\n                    <label className='form-label'>Quote </label>\n                    <input value={quote} onChange={(e) => setQuote(e.target.value)} className=\"form-control\"></input>\n                </div>\n\n                <div className='mb-1'>\n                    <label className='form-label'>By </label>\n                    <input value={by} onChange={(e) => setBy(e.target.value)} className=\"form-control\"></input>\n                </div>\n\n                <div className='form-check mb-1'>\n                    <input className='form-check-input' type='checkbox' id='isPublic' />\n                    <label className='form-check-label' htmlFor='isPublic'>Public</label>\n                </div>\n\n                <button className='btn btn-primary' type='submit'>Add</button>\n            </form>\n            {\n                saved &&\n                <Alert variant='success'>\n                    Quote added\n                </Alert>\n            }\n        </div>\n    )\n}\n\nexport default AddQuote;","const initialState = {\n    all: [],\n    mine: [],\n    token: null,\n    error: null,\n    loading: false,\n    user: null\n};\n\nexport default initialState;","import initialState from './initialState';\n\nfunction reducer(state, action) {\n    switch (action.type) {\n        case 'SET_USER': return {\n            ...state,\n            token: action.data.token,\n            user: action.data.user\n        };\n        case 'SET_ALL': return {\n            ...state,\n            loading: false,\n            all: action.data\n        };\n        case 'SET_MINE': return {\n            ...state,\n            loading: false,\n            mine: action.data\n        };\n        case 'FETCH_INIT': return {\n            ...state,\n            loading: true,\n            error: null\n        };\n        case 'FETCH_ERROR': return {\n            ...state,\n            loading: false,\n            error: action.data\n        };\n        case 'ADD_QUOTE': return {\n            ...state,\n            mine: [...state.mine, action.data]\n        };\n        case 'LOGOUT' : return initialState;\n        default: return state;\n    }\n}\n\nexport default reducer;","import React, { useEffect, useState, useReducer } from 'react';\nimport { BrowserRouter, Route, Switch, Redirect, NavLink } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './App.css';\nimport {Dropdown} from 'react-bootstrap';\nimport Mine from './components/Mine';\nimport Public from './components/Public';\nimport Login from './components/Login';\nimport SignUp from './components/SignUp';\nimport AddQuote from './components/AddQuote';\nimport reducer from './reducer';\nimport initialState from './initialState';\nimport axios from 'axios';\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const [config, setConfig] = useState({});\n\n\n  function logout(url) {\n    console.log('logout');\n\n    axios.post(url,{}, config)\n      .then(res => {\n        dispatch({\n          type: 'LOGOUT'\n        });   \n\n        setConfig(null); \n      }).catch(e => {\n        console.log('logout fail');\n        dispatch({\n          type: 'FETCH_ERROR',\n          data: e.message\n        });\n      });\n  }\n\n  useEffect(() => {\n    if (state.token !== null) {\n      setConfig({\n        headers: {\n          'Authorization': `Bearer ${state.token}`\n        }\n      });\n    }\n  }, [state.token]);\n\n  return (\n    <div className='App'>\n      <h1 className=\"center\">Quote it</h1>\n\n      <BrowserRouter>\n        <ul className=\"nav nav-tabs justify-content-end navigation-bar\">\n          {\n            !state.token &&\n            <>\n              <li className=\"nav-item\">\n                <NavLink to=\"/login\" className=\"nav-link\" activeClassName='selected'>Login</NavLink>\n              </li>\n              <li className=\"nav-item\">\n                <NavLink to=\"/signup\" className=\"nav-link\" activeClassName='selected'>Sign up</NavLink>\n              </li>\n            </>\n          }\n          {\n            state.token &&\n            <>\n              <li className=\"nav-item\">\n                <NavLink to=\"/public\" className=\"nav-link\" activeClassName='selected'>Home</NavLink>\n              </li>\n              <li className=\"nav-item\">\n                <NavLink to=\"/me\" className=\"nav-link\" activeClassName='selected'>Me</NavLink>\n              </li>\n              <li className=\"nav-item\">\n                <NavLink to=\"/add\" className=\"nav-link\" activeClassName='selected'>Add</NavLink>\n              </li>\n            </>\n          }\n          <li className='nav-item'>\n            <Dropdown>\n              {\n                state?.user?.username &&\n                <>\n                  <Dropdown.Toggle\n                    variant=\"success\" id=\"dropdown-basic\"\n                  >\n                    Hi, {state.user.username}\n                  </Dropdown.Toggle>\n                  <Dropdown.Menu>\n                    <Dropdown.Item\n                      onClick={() => logout('/users/logout')}\n                    >\n                      Logout\n                  </Dropdown.Item>\n                    <Dropdown.Item\n                      onClick={() => logout('/users/logoutAll')}>\n                      Logout All\n                      </Dropdown.Item>\n                  </Dropdown.Menu>\n                </>\n              }\n            </Dropdown>\n          </li>\n        </ul>\n\n        <div className='notification'>\n        {\n          state.error && <div className='error-notif'>Error:  {state.error}</div>\n        }\n        </div>\n        \n        {\n          config === null && \n          <Redirect to='/login'></Redirect>\n        }\n\n        <Switch>\n          <Route path=\"/add\">\n            <AddQuote dispatch={dispatch} config={config} />\n          </Route>\n          <Route path=\"/me\">\n            <Mine quotes={state.mine} dispatch={dispatch} config={config} />\n          </Route>\n          <Route path=\"/public\">\n            <Public quotes={state.all} dispatch={dispatch} config={config} />\n          </Route>\n          <Route path=\"/signup\" >\n            <SignUp dispatch={dispatch} />\n          </Route>\n          <Route path=\"/login\" >\n            <Login dispatch={dispatch} />\n          </Route>\n          <Route path=\"/\">\n            <Redirect to='/login'></Redirect>\n          </Route>\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}